name: baf-whatsapp-bot

services:
  - name: whatsapp-finance-assistant
    dockerfile_path: Dockerfile
    ports:
      - internal_port: 3000
        protocol: HTTP
      - internal_port: 5678
        protocol: HTTP
    resources:
      cpus: 2
      memory: 4096
    envs:
      - key: WAHA_API_KEY
        value: 123456
      - key: N8N_PORT
        value: 5678
      - key: GENERIC_TIMEZONE
        value: America/Sao_Paulo
    volumes:
      - name: app-data
        mount_path: /data
        type: persistent
    healthchecks:
      readiness:
        http:
          path: /api/sessions
          port: 3000